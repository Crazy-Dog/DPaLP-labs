locals
DOSSEG
.model small
.stack 100h
.data
;????? ??????
len    db 200
;????????? ???? (??? ??????)
res db 0
;???? ??????
string  db 200 dup('$')
;?????? 'number' ? '$' ?? ????? - ?????????? ????? ??????
number    db 'number$'
.code
;????????? ?????? ?????? ?? 6 ?????? ?????? (??? ???? ????? ???????? ?? ??? ????? 'number')
;? si - ????? ?????? ? ??????? ?????
shift    proc    near
cld
mov        di, si
xor        cx, cx
loop_1:
mov        bl, byte ptr [si]
cmp        bl, '$'
je        loop_2
inc        cx
inc        si
jmp        loop_1
loop_2:
inc        cx
mov        di, si
add        di, 6
loop_3:
mov        bl, byte ptr [si]
mov        byte ptr [di], bl
dec        si
dec        di
loop    lopp_3
ret
shift    endp
;????????? ??????????? 'number' ? ??????
;? di - ????? ?????? ? ??????? ?????
copy    proc near
cld
lea        si, number
mov        cx, 6
rep        movsb
ret
copy    endp
;????? ?????
;? si - ????? ?????? ? ??????? ?????
find    proc near
mov        di, si
mov        bl, 1
begin:
mov        ah, byte ptr[si]
cmp        ah, 13
je        loop_4
cmp        ah, ' '
je        loop_1
jmp        loop_3
loop_1:
cmp        bl, 1
je        loop_2
mov        bl, 1
inc        si
mov        di, si
jmp        loop_3
loop_2:
mov        ax, di 
ret
loop_4:
cmp        bl, 1
je        loop_2
mov        ax, 0
ret
loop_3:
mov        ah, byte ptr[si]
cmp        ah, '0'
jl        loop_5
cmp        ah, '9'
jg        loop_5
inc        si
jmp        begin
loop_5:
mov        bl, 0
inc        si
jmp        begin
find    endp
;??????? ?? ????? ?????
newline    proc    near
mov        dl,10
mov        ah,2
int        21h
ret
newline endp
;???? ??????
input proc near
mov        ah, 0Ah
int        21h
ret
input endp
;????? ??????
output proc near
mov        ah, 9
int        21h
ret
output endp
;???????? ????????
do    proc near
;? si - ????? ??????
lea        si, string
loop_1:
push    si
;???????? ??????? find - ???? ?????? ??????? ?????
call    find
pop        si
;?????????? ax ? 0 (ax - ???????????? ???????? ??????? find)
;???? ???? - ????????? ????????
cmp        ax, 0
je        loop_2
;?????:
mov        si, di
;???????? ?????? ? ??????? ax ?? 6 ???????? ?????? (? ??????? ??????? shift)
push    di
call    shift
pop        di
;???????? 'number' ? ?????? ????? ??????
call    copy
;? si - ????? ??????
lea        si, string
;???????? ???????
jmp        loop_1
loop_2:
ret
do    endp
;??????? ??????? (????? ?????)
start   proc    near
mov        ax, @data
mov        ds, ax
mov        es, ax
xor        ax, ax
;???? ??????
mov        dx, offset len
call    input
;???????? ????????
call    do
;??????? ?? ????? ??????
call    newline
;????? ?????????? ??????
mov        dx, offset string
call    output
;???????? ????? ???????
mov        ah, 0
int        16h
;?????????? ?????????
mov        ah, 4Ch
mov        al, 0
int    21h
start   endp
end     start